allprojects  {
  group = 'recordbuffer'
  version = '0.9'

  apply plugin: 'idea'
  apply plugin: 'checkstyle'

  checkstyle {
    configFile rootProject.file('gbi-checkstyle_checks.xml')
    toolVersion '7.7'    // set Checkstyle version here
    showViolations = true
  }

  idea {
    module {
      inheritOutputDirs = false
      outputDir = file('.out/classes/main')
      testOutputDir = file('.out/classes/test')
      sourceDirs += file('src/main/gen')
    }
  }
  //uncomment this for local test
  repositories {
    mavenLocal()
  }

}

subprojects {
  apply plugin: 'java'

  sourceCompatibility = 1.8
  targetCompatibility = 1.8
  tasks.withType(JavaCompile) {
  	options.encoding = 'UTF-8'
  }

  // External variables
  ext {
    junitVersion = "4.12"
    scalaVersion = "2.11"
    sparkVersion = "2.3.1"
  }

  dependencies {
    testCompile group: 'junit', name: 'junit', version: "$junitVersion"
  }

  task allDeps(type: DependencyReportTask) {}

  test {
    useJUnit()
  }
  tasks.withType(Javadoc).all { enabled = false }
}
